# 画板工具升级 - 待办清单

> 创建时间：2026-02-16  
> 负责人：Claw (PM)

---

## 任务列表

### 需求 1：矩形工具升级为形状工具

- [x] 扩展 ITool 接口，添加 shapeType 字段
- [x] 更新 toolBox.vue：矩形→形状（图标、名称、key）
- [x] 更新 toolOption.vue：添加形状类型下拉框
- [x] 实现 app.help.ts 绘制函数：圆形、椭圆、三角形、菱形
- [x] 更新 App.vue：根据 shapeType 调用对应绘制函数

**负责人：** 前端bro  
**状态：** ✅ 已完成  
**分支：** frontend-bro

---

### 需求 2：添加直线、曲线工具

- [x] toolBox.vue 新增直线、曲线工具
- [x] toolOption.vue 配置项（线宽、颜色）
- [x] app.help.ts 实现直线绘制函数
- [x] app.help.ts 实现贝塞尔曲线绘制函数
- [x] App.vue 实现直线预览机制
- [x] App.vue 实现曲线多步骤交互 + 状态管理
- [x] **曲线控制点调整功能**（2026-02-16 补充）
  - [x] 添加两阶段交互状态（draw → adjust → done）
  - [x] 阶段1：拖动绘制曲线，控制点默认在中点上方
  - [x] 阶段2：显示控制点（蓝色圆圈），可拖动调整
  - [x] Enter键确认曲线
  - [x] Esc键取消曲线
  - [x] 双击确认曲线
  - [x] 切换工具时自动确认当前曲线

**负责人：** 前端bro  
**状态：** ✅ 已完成  
**分支：** frontend-bro

---

### 需求 3：添加油漆桶/填充工具

- [x] toolBox.vue 新增填充工具
- [x] toolOption.vue 添加配置项（颜色、容差滑块）
- [x] app.help.ts 实现扫描线填充算法
- [x] 处理边界情况和性能优化
- [x] App.vue 集成填充工具逻辑

**负责人：** 前端bro  
**状态：** ✅ 已完成  
**分支：** frontend-bro

---

### 测试阶段

- [ ] 形状工具测试（5种形状 + 填充模式）
- [ ] 直线/曲线工具测试
- [ ] 填充工具测试（容差、边界情况）
- [ ] 撤销/重做功能验证
- [ ] 整体回归测试

**负责人：** 测试bro  
**状态：** 待开始  
**分支：** qa-bro

---

## 进度跟踪

| 阶段 | 状态 | 完成时间 |
|------|------|----------|
| 需求分析 | ✅ 完成 | 2026-02-16 |
| 开发-需求1 | ✅ 完成 | 2026-02-16 |
| 开发-需求2 | ✅ 完成 | 2026-02-16 |
| 开发-需求3 | ✅ 完成 | 2026-02-16 |
| 测试 | ⏸️ 待开始 | - |
| 发布 | ⏸️ 待开始 | - |

---

## 备注

- 后端bro 本项目休息（纯前端项目）
- 开发完成后合并到 develop 分支
- 测试通过后合并到 main 分支
